(function(t){function e(e){for(var s,r,o=e[0],l=e[1],c=e[2],u=0,p=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&p.push(n[r][0]),n[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},n={app:0},i=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/frontend-task-2/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("64a9"),n=a.n(s);n.a},"3f3b":function(t,e,a){"use strict";var s=a("b0bd"),n=a.n(s);n.a},4270:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("h1",[t._v("Table Settings:")]),a("div",{staticClass:"table-options"},[a("div",{staticClass:"table-options-main"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],attrs:{type:"radio",id:"radio-methods",value:"methods"},domProps:{checked:t._q(t.input,"methods")},on:{change:function(e){t.input="methods"}}}),a("label",{attrs:{for:"radio-methods"}},[t._v("Methods:")]),a("div",{staticClass:"table-options-unit"},[a("span",[t._v("Fields: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.fields,expression:"fields"}],attrs:{type:"text",id:"headers"},domProps:{value:t.fields},on:{input:function(e){e.target.composing||(t.fields=e.target.value)}}})]),a("div",{staticClass:"table-options-unit"},[a("span",[t._v("Rows: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.rows,expression:"rows"}],attrs:{type:"text",id:"rows"},domProps:{value:t.rows},on:{input:function(e){e.target.composing||(t.rows=e.target.value)}}})]),a("div",{staticClass:"table-options-unit"},[a("span",[t._v("Meta: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.meta,expression:"meta"}],attrs:{type:"text",id:"meta"},domProps:{value:t.meta},on:{input:function(e){e.target.composing||(t.meta=e.target.value)}}})]),a("div",{staticClass:"table-options-unit"},[a("button",{attrs:{type:"button"},on:{click:function(e){return t.createTable()}}},[t._v("\n            Create Table\n          ")])])]),a("div",{staticClass:"table-options-secondary"},[a("span",[t._v("CSS:")]),a("div",{staticClass:"table-options-unit"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.css,expression:"css"}],attrs:{id:"css"},domProps:{value:t.css},on:{input:function(e){e.target.composing||(t.css=e.target.value)}}})])]),a("div",{staticClass:"table-options-secondary"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],attrs:{type:"radio",id:"radio-api",value:"api"},domProps:{checked:t._q(t.input,"api")},on:{change:function(e){t.input="api"}}}),a("label",{attrs:{for:"radio-api"}},[t._v("Public API Endpoint:")]),a("div",{staticClass:"table-options-unit"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.api,expression:"api"}],domProps:{value:t.api},on:{input:function(e){e.target.composing||(t.api=e.target.value)}}})])]),a("div",{staticClass:"table-options-secondary"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],attrs:{type:"radio",id:"radio-json",value:"json"},domProps:{checked:t._q(t.input,"json")},on:{change:function(e){t.input="json"}}}),a("label",{attrs:{for:"radio-json"}},[t._v("Data from json:")]),a("div",{staticClass:"table-options-unit"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.json,expression:"json"}],domProps:{value:t.json},on:{input:function(e){e.target.composing||(t.json=e.target.value)}}})])])]),a("div",{attrs:{id:"table-div"}},[t.loader?a("div",{staticClass:"loader"}):t._e(),t.error?a("div",{staticClass:"error"},[t._v(t._s(t.error))]):t._e(),t._l(t.$Tables,(function(e){return a("Table",{key:e.id,attrs:{data:e.data,meta:e.meta,id:e.id},on:{reRender:function(e){return t.reRender()}}})}))],2)])},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("28a5"),a("96cf"),a("3b8d")),o=a("bd86"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-div"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchField,expression:"searchField"}],staticClass:"input-search",attrs:{placeholder:"Search"},domProps:{value:t.searchField},on:{input:function(e){e.target.composing||(t.searchField=e.target.value)}}}),a("table",[a("thead",[a("tr",[a("th",{staticClass:"table-col-selected"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAllVar,expression:"selectAllVar"}],attrs:{type:"checkbox"},domProps:{value:!0,checked:Array.isArray(t.selectAllVar)?t._i(t.selectAllVar,!0)>-1:t.selectAllVar},on:{click:function(e){return t.selectAll()},change:function(e){var a=t.selectAllVar,s=e.target,n=!!s.checked;if(Array.isArray(a)){var i=!0,r=t._i(a,i);s.checked?r<0&&(t.selectAllVar=a.concat([i])):r>-1&&(t.selectAllVar=a.slice(0,r).concat(a.slice(r+1)))}else t.selectAllVar=n}}})]),t._l(t.paginatedData[0],(function(e,s){return["object"!==typeof e?a("th",{key:s,class:t.meta[0],on:{click:function(e){return t.sortData(s)}}},[a("span",[t._v(t._s(s))]),"pos"===t.sort&&t.sortKey===s?a("span",[t._v("▼")]):t._e(),"neg"===t.sort&&t.sortKey===s?a("span",[t._v("▲")]):t._e()]):t._l(e,(function(e,n){return a("th",{key:s+"."+n,class:t.meta[0],on:{click:function(e){return t.sortData(n,s)}}},[a("span",[t._v(t._s(s+"."+n))]),"pos"===t.sort&&t.sortKey===n?a("span",[t._v("▼")]):t._e(),"neg"===t.sort&&t.sortKey===n?a("span",[t._v("▲")]):t._e()])}))]}))],2)]),a("tbody",[t._l(t.paginatedData,(function(e,s){return[a("tr",{key:s,class:t.meta[s%2+1]},[a("td",{staticClass:"table-col-selected"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],attrs:{type:"checkbox"},domProps:{value:s,checked:Array.isArray(t.selected)?t._i(t.selected,s)>-1:t.selected},on:{change:function(e){var a=t.selected,n=e.target,i=!!n.checked;if(Array.isArray(a)){var r=s,o=t._i(a,r);n.checked?o<0&&(t.selected=a.concat([r])):o>-1&&(t.selected=a.slice(0,o).concat(a.slice(o+1)))}else t.selected=i}}})]),t._l(t.paginatedData[s],(function(e,n,i){return["object"!==typeof e?a("td",{key:n+i,on:{dblclick:function(e){return t.editCell(s,n)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveCell(s,n)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancelCell(s,n)}}},[a("span",[t._v(t._s(e))]),a("textarea",{ref:"input"+s+n,refInFor:!0,staticStyle:{display:"none"},attrs:{type:"text"},on:{blur:function(a){return t.saveCell(s,n,e)}}})]):t._l(e,(function(e,r){return a("td",{key:r+i,on:{dblclick:function(e){return t.editCell(s,r,n)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveCell(s,r,n)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancelCell(s,r,n)}}},[a("span",[t._v(t._s(e))]),a("textarea",{ref:"input"+s+r,refInFor:!0,staticStyle:{display:"none"},attrs:{type:"text"},on:{blur:function(e){return t.saveCell(s,r,n)}}})])}))]}))],2)]}))],2)]),a("div",{staticClass:"table-options"},[a("button",{staticClass:"table-options-unit",attrs:{type:"button"},on:{click:function(e){return t.clean_table()}}},[t._v("\n      Clear table\n    ")]),a("button",{staticClass:"table-options-unit",attrs:{type:"button"},on:{click:function(e){return t.add_row()}}},[t._v("\n      Add row\n    ")]),a("span",{staticClass:"table-options-unit"},[t._v("Row:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.row_after_index,expression:"row_after_index"}],staticClass:"table-options-input",domProps:{value:t.row_after_index},on:{input:function(e){e.target.composing||(t.row_after_index=e.target.value)}}}),a("button",{staticClass:"table-options-unit",attrs:{type:"button"},on:{click:function(e){return t.insert_after_row(t.row_after_index)}}},[t._v("\n      Add row after\n    ")]),a("button",{staticClass:"table-options-unit",attrs:{type:"button"},on:{click:function(e){return t.removeRows()}}},[t._v("\n      Remove Rows\n    ")]),a("button",{staticClass:"table-options-unit",attrs:{type:"button",id:"show-modal"},on:{click:function(e){return t.get_json()}}},[t._v("\n      Get JSON\n    ")]),t.showModal?a("Modal",{attrs:{data:t.json},on:{close:function(e){t.showModal=!1}}}):t._e(),a("button",{staticClass:"table-options-unit",attrs:{type:"button"},on:{click:function(e){return t.removeTable()}}},[t._v("\n      Remove table\n    ")])],1),a("div",{staticClass:"pagination"},[t.pageNumber>0?a("a",{on:{click:function(e){t.pageNumber--}}},[t._v("«")]):t._e(),t._l(t.pageCount,(function(e){return a("a",{key:e,on:{click:function(a){t.pageNumber=e-1}}},[e===t.pageNumber+1?a("span",{staticClass:"pagination-links",attrs:{id:"pagination-current"}},[t._v(t._s(e))]):t._e(),1===e&&e!==t.pageNumber+1||e===t.pageCount&&e!==t.pageNumber+1?a("span",{staticClass:"pagination-links"},[t._v(t._s(e))]):t._e(),e>t.pageNumber-5&&e<t.pageNumber+5&&e!==t.pageNumber+1&&e!==t.pageCount&&1!==e?a("span",{staticClass:"pagination-links"},[t._v(t._s(e))]):t._e()])})),t.pageNumber<t.pageCount-1?a("a",{on:{click:function(e){t.pageNumber++}}},[t._v("»")]):t._e()],2)])},c=[],d=(a("6762"),a("2fdb"),a("55dd"),a("7618")),u=(a("c5f6"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-container"},[a("a",{staticClass:"modal-default-button",on:{click:function(e){return t.$emit("close")}}},[t._v("\n          X\n        ")]),a("div",{staticClass:"modal-header"},[t._t("header",[t._v("\n            JSON data:\n          ")])],2),a("div",{staticClass:"modal-body"},[t._t("body",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.data,expression:"data"}],ref:"json",domProps:{value:t.data},on:{input:function(e){e.target.composing||(t.data=e.target.value)}}})])],2),a("div",{staticClass:"modal-footer"},[t._t("footer",[a("button",{on:{click:function(e){return t.copy()}}},[t._v("Copy to buffer")])])],2)])])])])}),p=[],h={name:"Modal",props:{data:String},methods:{copy:function(){var t=this.$refs["json"];t.select(),t.setSelectionRange(0,99999),document.execCommand("copy")}}},f=h,v=(a("896e"),a("2877")),b=Object(v["a"])(f,u,p,!1,null,"5f998b52",null),m=b.exports,y={name:"Table",components:{Modal:m},props:{data:Array,meta:Array,id:Number},data:function(){return{json:null,escPressed:!1,trueId:this.id,cellVar:null,row_after_index:null,showModal:!1,pageNumber:0,size:10,sort:"pos",sortKey:null,searchField:null,filteredData:this.data,selected:[],selectAllVar:!1,bufferHeaders:{}}},computed:{pageCount:function(){var t=this.filteredData.length,e=this.size;return Math.ceil(t/e)},paginatedData:function(){var t=this.pageNumber*this.size,e=t+this.size;return this.filteredData.slice(t,e)}},watch:{searchField:function(t,e){this.getFilteredData()}},methods:{editCell:function(t,e,a){var s=this.$refs["input"+t+e][0];s.style.width="100%",a?(this.cellVar=this.paginatedData[t][a][e],s.value=this.paginatedData[t][a][e],this.paginatedData[t][a][e]=""):(this.cellVar=this.paginatedData[t][e],s.value=this.paginatedData[t][e],this.paginatedData[t][e]=""),s.style.display="inline",s.focus()},saveCell:function(t,e,a){var s=this.$refs["input"+t+e][0];!1===this.escPressed?a?this.paginatedData[t][a]&&(this.paginatedData[t][a][e]=s.value):this.paginatedData[t][e]=s.value:this.escPressed=!1,s.style.display="none"},cancelCell:function(t,e,a){var s=this.$refs["input"+t+e][0];this.escPressed=!0,s.style.display="none",a?this.paginatedData[t][a][e]=this.cellVar:this.paginatedData[t][e]=this.cellVar},clean_table:function(){for(var t=0;t<this.data.length;t++)for(var e=0;e<Object.keys(this.data[t]).length;e++)if("object"!==Object(d["a"])(this.data[t][Object.keys(this.data[0])[e]]))this.data[t][Object.keys(this.data[0])[e]]="";else for(var a=0;a<Object.keys(this.data[0][Object.keys(this.data[0])[e]]).length;a++)this.data[t][Object.keys(this.data[0])[e]][Object.keys(this.data[t][Object.keys(this.data[0])[e]])[a]]=""},add_row:function(){for(var t={},e=0;e<Object.keys(this.data[0]).length;e++)if("object"===Object(d["a"])(this.data[0][Object.keys(this.data[0])[e]])){t[Object.keys(this.data[0])[e]]={};for(var a=0;a<Object.keys(this.data[0][Object.keys(this.data[0])[e]]).length;a++)t[Object.keys(this.data[0])[e]][Object.keys(this.data[0][Object.keys(this.data[0])[e]])[a]]=""}else t[Object.keys(this.data[0])[e]]="";this.data.push(t)},insert_after_row:function(t){for(var e={},a=0;a<Object.keys(this.data[0]).length;a++)if("object"===Object(d["a"])(this.data[0][Object.keys(this.data[0])[a]])){e[Object.keys(this.data[0])[a]]={};for(var s=0;s<Object.keys(this.data[0][Object.keys(this.data[0])[a]]).length;s++)e[Object.keys(this.data[0])[a]][Object.keys(this.data[0][Object.keys(this.data[0])[a]])[s]]=""}else e[Object.keys(this.data[0])[a]]="";this.data.splice(t,0,e)},removeRows:function(){this.bufferHeaders=this.data[0];for(var t=0;t<this.selected.length;t++)this.data.splice(this.selected[t]-t,1);this.selected=[],this.data.length<1&&(this.data.push(this.bufferHeaders),this.clean_table())},removeTable:function(){delete this.$Tables[this.trueId],this.$emit("reRender")},get_json:function(){this.showModal=!0,this.json=JSON.stringify(this.$Tables[this.trueId].data)},sortData:function(t,e){var a=this;this.filteredData=this.filteredData.sort((function(s,n){var i=s[t],r=n[t];if(e&&(i=s[e][t],r=n[e][t]),isNaN(+i)){var o=i.toUpperCase(),l=r.toUpperCase();return o<l?"pos"===a.sort?-1:1:o>l?"pos"===a.sort?1:-1:0}return"pos"===a.sort?i-r:r-i})),"pos"===this.sort?this.sort="neg":this.sort="pos",this.sortKey=t},getWholeRow:function(t){for(var e=[],a=0;a<Object.keys(t).length;a++)if("object"===Object(d["a"])(t[Object.keys(t)[a]])){e.push(t[Object.keys(t)[a]]);for(var s=0;s<Object.keys(t[Object.keys(t)[a]]).length;s++)e.push(t[Object.keys(t)[a]][Object.keys(t[Object.keys(t)[a]])[s]])}else e.push(t[Object.keys(t)[a]]);return e.join("")},getFilteredData:function(){var t=[];if(this.searchField)for(var e=0;e<this.data.length;e++)this.getWholeRow(this.data[e]).toLowerCase().includes(this.searchField.trim())&&t.push(this.data[e]);else t=this.data;this.filteredData=t},selectAll:function(){if(!1===this.selectAllVar)for(var t=0;t<this.data.length;t++)this.selected.push(t);else this.selected=[]}}},g=y,_=(a("3f3b"),Object(v["a"])(g,l,c,!1,null,"7aafc403",null)),k=_.exports,j=a("2f62");function O(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function w(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?O(a,!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):O(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var C={name:"app",components:{Table:k},data:function(){return{id:0,fields:"Eeny,Meeny,Miny,Moe",rows:6,meta:"red,green,blue",css:".red {\n\tcolor: lightcoral;\n}\n.green {\n\t  color: lightgreen;\n}\n.blue {\n\t  color: lightblue;\n}",style:null,api:"https://jsonplaceholder.typicode.com/comments",loader:!1,error:null,json:null,input:"methods"}},computed:w({},Object(j["b"])(["DATA"])),methods:{createTable:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,s,n,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.error=null,this.style.innerHTML=this.css,"api"!==this.input){t.next=15;break}return this.loader=!0,t.prev=4,t.next=7,this.$store.dispatch("GET_DATA",this.api).then((function(){i.$Tables[i.id]={data:i.DATA,meta:i.meta.split(","),id:i.id},i.loader=!1,i.reRender()}));case 7:t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](4),this.loader=!1,this.error="API Error";case 13:t.next=16;break;case 15:if("json"===this.input)try{this.$Tables[this.id]={data:JSON.parse(this.json),meta:this.meta.split(","),id:this.id}}catch(r){this.error="JSON Error"}else{for(e=[],a=0;a<+this.rows;a++){for(s={},n=0;n<this.fields.split(",").length;n++)s[this.fields.split(",")[n]]="";e.push(s)}this.$Tables[this.id]={data:e,meta:this.meta.split(","),id:this.id}}case 16:this.id++,this.reRender();case 18:case"end":return t.stop()}}),t,this,[[4,9]])})));function e(){return t.apply(this,arguments)}return e}(),reRender:function(){this.$forceUpdate()}},created:function(){this.style=document.createElement("style"),this.style.type="text/css",document.getElementsByTagName("head")[0].appendChild(this.style)}},x=C,A=(a("034f"),Object(v["a"])(x,n,i,!1,null,null,null)),D=A.exports,N=a("bc3a"),P=a.n(N),T=P.a.create(),S=T;s["a"].use(j["a"]);var E=new j["a"].Store({state:{data:null},mutations:{SET_DATA:function(t,e){t.data=e}},actions:{GET_DATA:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S.get(a);case 2:s=t.sent,e.commit("SET_DATA",s.data);case 4:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}()},getters:{DATA:function(t){return t.data}}});s["a"].config.productionTip=!1,s["a"].prototype.$Tables={},new s["a"]({store:E,render:function(t){return t(D)}}).$mount("#app")},"64a9":function(t,e,a){},"896e":function(t,e,a){"use strict";var s=a("4270"),n=a.n(s);n.a},b0bd:function(t,e,a){}});
//# sourceMappingURL=app.dd3fcc1e.js.map